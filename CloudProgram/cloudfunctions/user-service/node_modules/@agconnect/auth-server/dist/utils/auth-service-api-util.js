"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},agc_auth_error_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthServiceApiUtil=void 0,require("../error/agc-auth-error")),agc_auth_error_message_1=require("../error/agc-auth-error-message"),fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),AuthServiceApiUtil=function(){function _(){}return _.checkCredential=function(r){if(!r||!r.getCredential()||!r.getCredential().getProjectId())throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.CLIENT_INITIALIZE_FAILED,"");if(r.getCredential().getRegion())return!0;throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.PROJECT_DO_NOT_SET_REGION,r.getName())},_.checkReadFilePath=function(r,e){if(!r)throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.INVALID_IMPORT_USER_FILE,e.getName());if(!fs_1.default.existsSync(r))throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.INVALID_IMPORT_USER_FILE,e.getName());if(!fs_1.default.statSync(r).isFile())throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.INVALID_IMPORT_USER_FILE,e.getName());try{fs_1.default.accessSync(r,fs_1.default.constants.R_OK)}catch(r){throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.INVALID_ACCESS_IMPORT_USER_FILE,e.getName())}return!0},_.checkWriteFilePath=function(r,e){if(!r)throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.EXPORT_USER_DATA_FILEPATH_IS_INVALID,e.getName());if(fs_1.default.existsSync(r)){if(!fs_1.default.statSync(r).isFile())throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.EXPORT_USER_DATA_FILEPATH_IS_INVALID,e.getName());try{fs_1.default.accessSync(r,fs_1.default.constants.W_OK)}catch(r){throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.INVALID_ACCESS_EXPORT_USER_FILE,e.getName())}}else{r=path_1.default.join(r,"..");if(!fs_1.default.existsSync(r))throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.EXPORT_USER_FILE_DIR_NOT_EXIST,e.getName())}return!0},_.checkAccessToken=function(r,e){if(!r)throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.VERIFY_ACCESS_TOKEN_ACCESS_TOKEN_IS_NULL,e.getName());if(_.JWT_FIELD_SIZE!==r.split(".").length)throw new agc_auth_error_1.AGCAuthError(agc_auth_error_message_1.AuthErrorCode.ACCESS_TOKEN_INVALID_FORMAT,e.getName())},_.JWT_FIELD_SIZE=3,_}();exports.AuthServiceApiUtil=AuthServiceApiUtil;